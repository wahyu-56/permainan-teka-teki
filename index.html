<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Teka-Teki Hewan</title>

<style>
*{
  box-sizing:border-box;
  font-family:'Comic Sans MS', cursive;
}

body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#FFD93D,#FF9F1C);
  display:flex;
  justify-content:center;
  align-items:center;
}

.hidden{display:none}

.box{
  background:white;
  width:90%;
  max-width:500px;
  padding:25px;
  border-radius:25px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
  animation:fade .4s;
}

@keyframes fade{
  from{opacity:0;transform:scale(.9)}
  to{opacity:1;transform:scale(1)}
}

h1,h2{margin:10px 0}

input{
  width:80%;
  padding:12px;
  border-radius:20px;
  border:2px solid #ccc;
  text-align:center;
  font-size:16px;
}

button{
  border:none;
  border-radius:20px;
  padding:12px 20px;
  margin:8px;
  font-size:16px;
  cursor:pointer;
  background:#4CAF50;
  color:white;
}

button:hover{opacity:.9}

.level button{background:#2196F3}

.jawaban button{
  display:block;
  width:100%;
  margin:8px 0;
  background:#03A9F4;
}

#nyawa{font-size:22px}
#timer{color:red;font-weight:bold}

.star{font-size:30px;color:gold}
</style>
</head>

<body>

<!-- AUDIO -->
<audio id="benar" src="https://cdn.pixabay.com/audio/2022/03/15/audio_7f3b02a8b5.mp3"></audio>
<audio id="salah" src="https://cdn.pixabay.com/audio/2022/03/15/audio_4c9b5bb0e3.mp3"></audio>
<audio id="bgm" src="https://cdn.pixabay.com/audio/2022/08/02/audio_9b0c2b45c5.mp3" loop></audio>

<!-- HALAMAN NAMA -->
<div class="box" id="halNama">
  <h1>ğŸ¾ Teka-Teki Hewan ğŸ¾</h1>
  <p>Masukkan nama detektif</p>
  <input id="namaInput" placeholder="Nama Detektif">
  <br><br>
  <button onclick="mulai()">Mulai ğŸ®</button>
</div>

<!-- HALAMAN MENU -->
<div class="box hidden" id="halMenu">
  <h2 id="halo"></h2>
  <p>Pilih Level</p>
  <div class="level">
    <button onclick="setLevel('mudah')">Mudah</button>
    <button onclick="setLevel('sedang')">Sedang</button>
    <button onclick="setLevel('sulit')">Sulit</button>
  </div>
  <button onclick="toggleMusik()">ğŸµ Musik</button>
</div>

<!-- HALAMAN GAME -->
<div class="box hidden" id="halGame">
  <h2 id="judulLevel"></h2>
  <div id="nyawa"></div>
  <div id="timer"></div>
  <h3 id="soal"></h3>
  <div class="jawaban" id="jawaban"></div>
</div>

<!-- HALAMAN HASIL -->
<div class="box hidden" id="halHasil">
  <h2>ğŸ‰ Hasil Akhir</h2>
  <p id="hasilNama"></p>
  <p id="hasilSkor"></p>
  <div id="bintang"></div>
  <button onclick="location.reload()">Main Lagi ğŸ”</button>
</div>

<script>
let nama="", level="", data=[], index=0, skor=0, nyawa=3;
let waktu=0, timerInt, musik=false;

const bank={
mudah:[
{q:"Hewan yang berkata 'meong'?",a:["Kucing","Anjing","Sapi"],k:"Kucing"},
{q:"Hewan bertelinga panjang?",a:["Kelinci","Kuda","Gajah"],k:"Kelinci"},
{q:"Hewan yang bisa terbang?",a:["Burung","Kucing","Ikan"],k:"Burung"},
{q:"Hewan hidup di air?",a:["Ikan","Ayam","Kambing"],k:"Ikan"},
{q:"Hewan yang menggonggong?",a:["Anjing","Kucing","Sapi"],k:"Anjing"}
],
sedang:[
{q:"Hewan terbesar di darat?",a:["Gajah","Kuda","Singa"],k:"Gajah"},
{q:"Raja hutan?",a:["Singa","Macan","Serigala"],k:"Singa"},
{q:"Hewan yang berubah warna?",a:["Bunglon","Ular","Ayam"],k:"Bunglon"},
{q:"Hewan bercangkang?",a:["Kura-kura","Kelinci","Ular"],k:"Kura-kura"},
{q:"Hewan melompat dan berkantung?",a:["Kanguru","Kuda","Beruang"],k:"Kanguru"}
],
sulit:[
{q:"Mamalia laut terbesar?",a:["Paus Biru","Lumba-lumba","Hiu"],k:"Paus Biru"},
{q:"Hewan aktif malam hari?",a:["Kelelawar","Ayam","Sapi"],k:"Kelelawar"},
{q:"Hewan bertelur dan menyusui?",a:["Platipus","Buaya","Penyu"],k:"Platipus"},
{q:"Hewan tercepat di darat?",a:["Cheetah","Kuda","Singa"],k:"Cheetah"},
{q:"Hewan laut beracun?",a:["Ubur-ubur","Ikan Mas","Paus"],k:"Ubur-ubur"}
]
};

function mulai(){
  nama = namaInput.value || "Detektif Cilik";
  halNama.classList.add("hidden");
  halMenu.classList.remove("hidden");
  halo.innerText = "Halo, " + nama + " ğŸ‘‹";
}

function toggleMusik(){
  musik=!musik;
  musik ? bgm.play() : bgm.pause();
}

function setLevel(lv){
  level=lv;
  data=[...bank[lv]].sort(()=>Math.random()-0.5);
  index=0; skor=0; nyawa=3;
  halMenu.classList.add("hidden");
  halGame.classList.remove("hidden");
  judulLevel.innerText="Level: "+lv.toUpperCase();
  tampilSoal();
}

function tampilSoal(){
  clearInterval(timerInt);
  nyawa.innerText="â¤ï¸".repeat(nyawa);
  timer.innerText="";
  if(index>=5||nyawa<=0)return hasil();

  const s=data[index];
  soal.innerText=s.q;
  jawaban.innerHTML="";

  s.a.sort(()=>Math.random()-0.5).forEach(j=>{
    let b=document.createElement("button");
    b.innerText=j;
    b.onclick=()=>cek(j,s.k);
    jawaban.appendChild(b);
  });

  if(level==="sulit"){
    waktu=10;
    timerInt=setInterval(()=>{
      timer.innerText="â± "+waktu+" detik";
      waktu--;
      if(waktu<0){
        salah.play();
        nyawa--;
        index++;
        tampilSoal();
      }
    },1000);
  }
}

function cek(j,k){
  clearInterval(timerInt);
  if(j===k){benar.play();skor+=20;}
  else{salah.play();nyawa--;}
  index++;
  tampilSoal();
}

function hasil(){
  halGame.classList.add("hidden");
  halHasil.classList.remove("hidden");
  hasilNama.innerText=nama;
  hasilSkor.innerText="Skor: "+skor;
  let star=skor>=80?3:skor>=50?2:1;
  bintang.innerHTML="â­".repeat(star);
}
</script>

</body>
</html>
