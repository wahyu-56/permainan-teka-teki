<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>ğŸ•µï¸ Teka-Teki Hewan</title>

<style>
body{
  margin:0;
  font-family:"Comic Sans MS", Arial, sans-serif;
  background:linear-gradient(135deg,#ffe066,#ffb703);
  text-align:center;
}

.page{
  min-height:100vh;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  animation:fade .5s ease;
}

.page.active{display:flex;}

@keyframes fade{
  from{opacity:0; transform:translateY(20px);}
  to{opacity:1; transform:translateY(0);}
}

.box{
  background:white;
  padding:25px;
  border-radius:25px;
  width:90%;
  max-width:460px;
  box-shadow:0 6px 15px rgba(0,0,0,.2);
}

button{
  padding:12px 24px;
  margin:6px;
  border-radius:25px;
  border:none;
  background:#4caf50;
  color:white;
  font-size:16px;
  cursor:pointer;
}

button:hover{background:#388e3c;}

input{
  padding:12px;
  border-radius:15px;
  border:none;
  width:80%;
}

#jawaban button{
  display:block;
  width:100%;
  background:#03a9f4;
  margin:10px 0;
}

#jawaban button:hover{background:#0288d1;}

#timer{color:red;font-weight:bold;}
#nyawa{font-size:22px;}
</style>
</head>

<body>

<!-- ===== MENU ===== -->
<div class="page active" id="menu">
  <div class="box">
    <h1>ğŸ¦ Teka-Teki Hewan ğŸ¯</h1>
    <p>Masukkan nama <b>Detektif</b> ğŸ•µï¸</p>
    <input id="nama" placeholder="Detektif ...">
    <br><br>
    <button onclick="keGame()">Mulai Game ğŸ®</button>
  </div>
</div>

<!-- ===== GAME ===== -->
<div class="page" id="game">
  <div class="box">
    <h2 id="judulLevel">Pilih Level</h2>
    <div id="levelBtn">
      <button onclick="setLevel('mudah')">Mudah</button>
      <button onclick="setLevel('sedang')">Sedang</button>
      <button onclick="setLevel('sulit')">Sulit</button>
    </div>

    <p id="nyawa">â¤ï¸â¤ï¸â¤ï¸</p>
    <p id="timer"></p>

    <h3 id="soal"></h3>
    <div id="jawaban"></div>
  </div>
</div>

<!-- ===== HASIL ===== -->
<div class="page" id="hasil">
  <div class="box">
    <h2>ğŸ Hasil Akhir</h2>
    <p id="hasilNama"></p>
    <p id="hasilSkor"></p>
    <p id="hasilBintang"></p>
    <button onclick="location.reload()">Main Lagi ğŸ”</button>
  </div>
</div>

<!-- AUDIO PUBLIK -->
<audio id="benar" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3"></audio>
<audio id="salah" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>
<audio id="musik" src="https://assets.mixkit.co/music/preview/mixkit-fun-kids-playground-407.mp3" loop></audio>

<script>
// ===== DATA SOAL =====
const bank = {
  mudah:[
    {q:"ğŸ± Hewan mengeong?",a:["Kucing","Anjing","Sapi"],k:"Kucing"},
    {q:"ğŸ” Bertelur?",a:["Ayam","Kucing","Sapi"],k:"Ayam"},
    {q:"ğŸŸ Hidup di air?",a:["Ikan","Kuda","Ayam"],k:"Ikan"},
    {q:"ğŸ¶ Penjaga rumah?",a:["Anjing","Kucing","Ayam"],k:"Anjing"},
    {q:"ğŸ„ Menghasilkan susu?",a:["Sapi","Ayam","Kucing"],k:"Sapi"}
  ],
  sedang:[
    {q:"ğŸ˜ Terbesar di darat?",a:["Gajah","Kuda","Sapi"],k:"Gajah"},
    {q:"ğŸ Cara bergerak ular?",a:["Merayap","Melompat","Berlari"],k:"Merayap"},
    {q:"ğŸ¦… Hewan pemangsa?",a:["Elang","Ayam","Bebek"],k:"Elang"},
    {q:"ğŸ’ Hewan cerdas?",a:["Monyet","Sapi","Kambing"],k:"Monyet"},
    {q:"ğŸ¦Œ Bertanduk?",a:["Rusa","Kucing","Ayam"],k:"Rusa"}
  ],
  sulit:[
    {q:"ğŸ¦‰ Aktif malam hari?",a:["Burung Hantu","Ayam","Elang"],k:"Burung Hantu"},
    {q:"ğŸ¬ Hewan laut cerdas?",a:["Lumba-lumba","Ikan","Paus"],k:"Lumba-lumba"},
    {q:"ğŸ¦‚ Hewan bercapit berbisa?",a:["Kalajengking","Kepiting","Laba-laba"],k:"Kalajengking"},
    {q:"ğŸ« Tahan hidup di gurun?",a:["Unta","Kuda","Sapi"],k:"Unta"},
    {q:"ğŸ¦’ Leher terpanjang?",a:["Jerapah","Unta","Kuda"],k:"Jerapah"}
  ]
};

// ===== VARIABEL =====
let level, soalIndex, skor, nyawa, waktu, timer, data;
const musik = document.getElementById("musik");
document.body.addEventListener("click",()=>musik.play(),{once:true});

// ===== NAVIGASI =====
function show(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function keGame(){
  if(!nama.value) return alert("Masukkan nama Detektif dulu!");
  show("game");
}

// ===== GAME LOGIC =====
function setLevel(lv){
  level=lv;
  soalIndex=0;
  skor=0;
  nyawa=3;
  data=[...bank[lv]].sort(()=>Math.random()-0.5);
  judulLevel.innerText="Level: "+lv.toUpperCase();
  tampilSoal();
}

function tampilSoal(){
  clearInterval(timer);
  timer.innerText="";
  nyawaEl();

  if(soalIndex>=5 || nyawa<=0){
    tampilHasil();
    return;
  }

  const s=data[soalIndex];
  soal.innerText=`Soal ${soalIndex+1}/5\n${s.q}`;
  jawaban.innerHTML="";

  s.a.sort(()=>Math.random()-0.5).forEach(j=>{
    const b=document.createElement("button");
    b.innerText=j;
    b.onclick=()=>cek(j,s.k);
    jawaban.appendChild(b);
  });

  if(level==="sulit"){
    waktu=10;
    timer=setInterval(()=>{
      timer.innerText="â± "+waktu+" detik";
      waktu--;
      if(waktu<0){
        document.getElementById("salah").play();
        nyawa--;
        soalIndex++;
        tampilSoal();
      }
    },1000);
  }
}

function cek(pilih,kunci){
  clearInterval(timer);
  if(pilih===kunci){
    document.getElementById("benar").play();
    skor+=20;
  }else{
    document.getElementById("salah").play();
    nyawa--;
  }
  soalIndex++;
  tampilSoal();
}

function nyawaEl(){
  document.getElementById("nyawa").innerText="â¤ï¸".repeat(nyawa);
}

// ===== HASIL =====
function tampilHasil(){
  show("hasil");
  hasilNama.innerText="Detektif: "+nama.value;
  hasilSkor.innerText="Skor: "+skor;
  hasilBintang.innerText=
    skor>80?"â­â­â­ Hebat!":skor>40?"â­â­ Bagus!":"â­ Ayo coba lagi!";
}
</script>

</body>
</html>
