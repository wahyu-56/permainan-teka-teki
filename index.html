<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Detektif Hewan üêæ</title>
<style>
body{
  font-family: 'Comic Sans MS', cursive;
  background: linear-gradient(135deg,#ffecd2,#fcb69f);
  text-align:center;
  margin:0;
}
.box{
  background:white;
  max-width:500px;
  margin:50px auto;
  padding:20px;
  border-radius:20px;
  box-shadow:0 10px 20px rgba(0,0,0,.2);
}
button{
  background:#ff9800;
  color:white;
  border:none;
  padding:12px 20px;
  margin:8px;
  border-radius:15px;
  font-size:16px;
  cursor:pointer;
}
button:hover{background:#f57c00}
input{
  padding:10px;
  width:80%;
  border-radius:10px;
  border:1px solid #ccc;
}
#jawaban button{
  display:block;
  width:100%;
}
.hidden{display:none}
#nyawa{font-size:22px}
#timer{color:red;font-weight:bold}
</style>
</head>
<body>

<audio id="benar" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="salah" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="musik" src="https://actions.google.com/sounds/v1/ambiences/barnyard.ogg" loop></audio>

<div class="box" id="halNama">
  <h2>üïµÔ∏è Nama Detektif</h2>
  <input id="nama" placeholder="Masukkan nama detektif">
  <br><br>
  <button onclick="mulai()">Mulai</button>
</div>

<div class="box hidden" id="halLevel">
  <h2>Pilih Level</h2>
  <button onclick="setLevel('mudah')">Mudah</button>
  <button onclick="setLevel('sedang')">Sedang</button>
  <button onclick="setLevel('sulit')">Sulit</button>
</div>

<div class="box hidden" id="halGame">
  <h2 id="judulLevel"></h2>
  <div id="nyawa"></div>
  <div id="timer"></div>
  <h3 id="soal"></h3>
  <div id="jawaban"></div>
</div>

<div class="box hidden" id="halHasil">
  <h2>üéâ Hasil Akhir</h2>
  <p id="hasilNama"></p>
  <p id="hasilSkor"></p>
  <p id="hasilBintang"></p>
  <button onclick="location.reload()">Main Lagi</button>
</div>

<script>
let pemain="", level="", skor=0, nyawa=3, index=0, waktu=0, timer;
const musik=document.getElementById("musik");

const bank={
  mudah:[
    {q:"Hewan apa yang mengatakan 'meong'?",a:["Kucing","Sapi","Ayam"],k:"Kucing"},
    {q:"Hewan apa yang hidup di air?",a:["Ikan","Kucing","Kambing"],k:"Ikan"},
    {q:"Hewan berkaki empat dan menggonggong?",a:["Anjing","Ayam","Bebek"],k:"Anjing"},
    {q:"Hewan penghasil susu?",a:["Sapi","Ikan","Ular"],k:"Sapi"},
    {q:"Hewan yang bisa terbang?",a:["Burung","Kucing","Kuda"],k:"Burung"}
  ],
  sedang:[
    {q:"Hewan tercepat di darat?",a:["Cheetah","Kuda","Sapi"],k:"Cheetah"},
    {q:"Hewan besar berbelalai?",a:["Gajah","Badak","Kuda"],k:"Gajah"},
    {q:"Hewan pemakan bambu?",a:["Panda","Beruang","Kucing"],k:"Panda"},
    {q:"Hewan malam yang bisa terbang?",a:["Kelelawar","Ayam","Elang"],k:"Kelelawar"},
    {q:"Hewan bercangkang keras?",a:["Kura-kura","Ular","Kucing"],k:"Kura-kura"}
  ],
  sulit:[
    {q:"Mamalia yang bisa terbang?",a:["Kelelawar","Burung","Ayam"],k:"Kelelawar"},
    {q:"Hewan amfibi?",a:["Katak","Ular","Ikan"],k:"Katak"},
    {q:"Hewan terbesar di dunia?",a:["Paus Biru","Gajah","Hiu"],k:"Paus Biru"},
    {q:"Hewan berdarah dingin?",a:["Reptil","Kucing","Sapi"],k:"Reptil"},
    {q:"Hewan bertaring berbisa?",a:["Ular","Kambing","Kuda"],k:"Ular"}
  ]
};

function mulai(){
  pemain=document.getElementById("nama").value;
  if(!pemain) return alert("Isi nama dulu!");
  document.getElementById("halNama").classList.add("hidden");
  document.getElementById("halLevel").classList.remove("hidden");
  musik.play();
}

let soalAcak=[];
function setLevel(lv){
  level=lv;
  skor=0; nyawa=3; index=0;
  soalAcak=[...bank[lv]].sort(()=>Math.random()-0.5);
  document.getElementById("halLevel").classList.add("hidden");
  document.getElementById("halGame").classList.remove("hidden");
  document.getElementById("judulLevel").innerText="Level "+lv.toUpperCase();
  tampil();
}

function tampil(){
  clearInterval(timer);
  document.getElementById("timer").innerText="";
  document.getElementById("nyawa").innerText="‚ù§Ô∏è".repeat(nyawa);

  if(index>=5 || nyawa<=0){ return hasil(); }

  const s=soalAcak[index];
  document.getElementById("soal").innerText=`Soal ${index+1}/5\n${s.q}`;
  const j=document.getElementById("jawaban");
  j.innerHTML="";
  s.a.sort(()=>Math.random()-0.5).forEach(x=>{
    let b=document.createElement("button");
    b.innerText=x;
    b.onclick=()=>cek(x,s.k);
    j.appendChild(b);
  });

  if(level==="sulit"){
    waktu=10;
    timer=setInterval(()=>{
      document.getElementById("timer").innerText="‚è± "+waktu;
      waktu--;
      if(waktu<0){
        document.getElementById("salah").play();
        nyawa--; index++; tampil();
      }
    },1000);
  }
}

function cek(j,k){
  clearInterval(timer);
  if(j===k){
    skor+=20;
    document.getElementById("benar").play();
  }else{
    nyawa--;
    document.getElementById("salah").play();
  }
  index++;
  setTimeout(tampil,500);
}

function hasil(){
  musik.pause();
  document.getElementById("halGame").classList.add("hidden");
  document.getElementById("halHasil").classList.remove("hidden");
  document.getElementById("hasilNama").innerText="Detektif: "+pemain;
  document.getElementById("hasilSkor").innerText="Skor: "+skor;
  let b=skor>=80?"‚≠ê‚≠ê‚≠ê":skor>=40?"‚≠ê‚≠ê":"‚≠ê";
  document.getElementById("hasilBintang").innerText="Bintang: "+b;
}
</script>

</body>
</html>
